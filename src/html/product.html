<!DOCTYPE HTML>
<html>

<head>
	<title>Products</title>
	<link rel="stylesheet" href="../css/style.css" type="text/css" />
</head>

<body>
	<h2>Products</h2><span id="noOfProducts"></span> records found 
	<div class="search-panel">
		<div class="row row-separator">
			<div class="col-12">Find Products</div>
		</div>
		<div class="row">			
			<div class="col-1 right">Name</div>
			<div class="col-1"><input type="text" id="search_name" /></div>
			<div class="col-1 right">Region</div>
			<div class="col-1"><select id="search_region"></select></div>
			<div class="col-7">
				<button onclick="loadProductsCount();">Find</button>
				<button id="addProduct" onclick="showProductInput();">Add New Product</button>
			</div>
		</div>
	</div>
	<section>
		<div id="ProductHeader" class="row header">
			<div class="col-1"></div>
			<div class="col-2">Name</div>
			<div class="col-2">Price</div>
			<div class="col-2">sku</div>
			<div class="col-2">region</div>
		</div>
		<div id="ProductContainer" class="grid"></div>
		<div id="ProductFooter" class="footer"></div>
		<div id="ProductInput"></div>
	</section>

	<script id="RegionTemplate" type="text/x-jQuery-tmpl">
		<option value="${_id}" {{if _id === $item.selectedId}}selected="selected" {{/if}}>${name}</option>
	</script>

	<script id="ProductTemplate" type="text/x-jQuery-tmpl">
		<div class="row">
			<div class="col-2 right">Name</div>
			<div class="col-2 left">
				<input type="text" id="name" value="${name}" /> </div>
		</div>
		<div class="row">
			<div class="col-2 right">Price ${globals.currency}</div>
			<div class="col-2 left"><input type="number" id="price" value="${formatPrice(price)}" /> </div>
		</div>
		<div class="row">
			<div class="col-2 right">SKU</div>
			<div class="col-2 left"><input type="text" id="sku" value="${sku}" /> </div>
		</div>
		<div class="row">
			<div class="col-2 right">Region</div>
			<div class="col-2 left">
				<select id="region">{{tmpl(regions, {selectedId: region._id}) "#RegionTemplate"}}</select>
			</div>
		</div>
		<div class="row">
			<div class="col-2 right"></div>
			<div class="col-2 left"><button onclick="saveProduct('${_id}');">Save</button></div>
		</div>
	</script>
	
	<script id="ProductGridTemplate" type="text/x-jQuery-tmpl">
		<div class="row">
			<div class="col-1">
				<div class="edit" onclick="showProductInput(this);"></div>
				<div class="delete" onclick="deleteProduct('${_id}');"></div>
			</div>
			<div class="col-2">${name}</div>
			<div class="col-2">${globals.currency} ${formatPrice(price)}</div>
			<div class="col-2">${sku}</div>
			<div class="col-2">${region.name}</div>
		</div>
	</script>

	<script src="../js/jquery/dist/jquery.min.js"></script>
	<script src="../js/jquery.tmpl.min.js"></script>
	<script src="../js/core.min.js"></script>
	<script src="../js/xhrlib.min.js"></script>
	<script src="../js/gridPager.min.js"></script>
	<script src="../js/page/product.min.js"></script>
</body>

</html>